---
sidebar_position: 3
sidebar_label: Python
title: Python | SDKs | Integration
description: The SurrealDB SDK for Python enables simple and advanced querying of a remote or embedded database.
---

import ThemedImage from '@theme/ThemedImage';
import useBaseUrl from '@docusaurus/useBaseUrl';

<ThemedImage
  alt="Python"
  width="50"
  className="sdk-logo"
  sources={{
    light: useBaseUrl('img/light/python.png'),
    dark: useBaseUrl('img/python-icon.png'),
  }}
/>

# Python SDK

The SurrealDB SDK for Python enables simple and advanced querying of a remote database from a browser or from server-side code. By default connections to SurrealDB are made over WebSockets, and automatically reconnect when the connection is terminated. We however also support connecting through a http client, however that is not as fully implemented yet.

To contribute to this documentation, edit this file on GitHub.

To contribute to the SDK code, submit an Issue or Pull Request here.

:::note
___NOTE:___ This SDK is compatible with V1.x.x
:::

<br />

### Install the SDK

First, install the SurrealDB SDK using pip:

```sh
pip install surrealdb
```

Alternatively, you can use install the SurrealDB SDK using poetry:

```sh
poetry add surrealdb
```

<br />

### Connect to SurrealDB

Create a new surreal.py file and add the following code to try out some basic operations using the SurrealDB SDK.

### Using the (synchronous) Python methods

Import the SDK and create the database connection:

```python
from surrealdb import SurrealDB

db = SurrealDB("ws://localhost:8000/database/namespace")
```

Here, we can see that we defined the connection protocol as WebSocket using `ws://`. We then defined the host as `localhost` and the port as `8000`.

Finally, we defined the database and namespace as `database` and `namespace`.
We need a database and namespace to connect to SurrealDB. 

Now that we have our connection we need to signin:

```python
db.signin({
    "username": "root",
    "password": "root",
})
```
We can now run our queries to create some users, select them and print the outcome.

```python
db.query("CREATE user:tobie SET name = 'Tobie';")
db.query("CREATE user:jaime SET name = 'Jaime';")
outcome = db.query("SELECT * FROM user;")
print(outcome)
```

### Using the async Python methods

The async methods work in the same way, with two main differences:
- Inclusion of `async def / await`.
- You need to call the connect method before signing in.

```python
import asyncio
from surrealdb import AsyncSurrealDB


async def main():
    db = AsyncSurrealDB("ws://localhost:8000/database/namespace")
    await db.connect()
    await db.signin({
        "username": "root",
        "password": "root",
    })
    await db.query("CREATE user:tobie SET name = 'Tobie';")
    await db.query("CREATE user:jaime SET name = 'Jaime';")
    outcome = await db.query("SELECT * FROM user;")
    print(outcome)


# Run the main function
asyncio.run(main())
```

### Using Jupyter Notebooks

The Python SDK currently only supports the `AsyncSurrealDB` methods.

<br />

### SDK methods

The Python SDK comes with a number of built-in functions.

<table>
    <thead>
        <tr>
            <th scope="col">Function</th>
            <th scope="col">Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td scope="row" data-label="Function"><a href="#init"><code>SurrealDB(url) / AsyncSurrealDB(url)</code></a></td>
            <td scope="row" data-label="Description">A class that represents a SurrealDB server.</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#connect"><code>db.connect()</code></a></td>
            <td scope="row" data-label="Description">Connects to a local or remote database endpoint</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#use"><code>db.use_namespace(ns) / db.use_database(db)</code></a></td>
            <td scope="row" data-label="Description">Switch to a specific namespace and database</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#signup"><code>db.signup(vars)</code></a></td>
            <td scope="row" data-label="Description">Signs this connection up to a specific authentication scope</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#signin"><code>db.signin(vars)</code></a></td>
            <td scope="row" data-label="Description">Signs this connection in to a specific authentication scope</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#invalidate"><code>db.invalidate()</code></a></td>
            <td scope="row" data-label="Description">Invalidates the authentication for the current connection</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#authenticate"><code>db.authenticate(token)</code></a></td>
            <td scope="row" data-label="Description">Authenticates the current connection with a JWT token</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#let"><code>db.set(key, val)</code></a></td>
            <td scope="row" data-label="Description">Assigns a value as a parameter for this connection</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#query"><code>db.query(sql, vars)</code></a></td>
            <td scope="row" data-label="Description">Runs a set of SurrealQL statements against the database</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#select"><code>db.select(thing)</code></a></td>
            <td scope="row" data-label="Description">Selects all records in a table, or a specific record</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#create"><code>db.create(thing, data)</code></a></td>
            <td scope="row" data-label="Description">Creates a record in the database</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#update"><code>db.update(thing, data)</code></a></td>
            <td scope="row" data-label="Description">Updates all records in a table, or a specific record</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#merge"><code>db.merge(thing, data)</code></a></td>
            <td scope="row" data-label="Description">Modifies by deep merging all records in a table, or a specific record, in the database</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#patch"><code>db.patch(thing, data)</code></a></td>
            <td scope="row" data-label="Description">Applies JSON Patch changes to all records in a table, or a specific record</td>
        </tr>
        <tr>
            <td scope="row" data-label="Function"><a href="#delete"><code>db.delete(thing)</code></a></td>
            <td scope="row" data-label="Description">Deletes all records, or a specific record</td>
        </tr>
    </tbody>
</table>

<br />

## `SurrealDB() / AsyncSurrealDB()` {#init}

A class that represents a SurrealDB server.

```python title="Method Syntax"
SurrealDB(url)
AsyncSurrealDB(url)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                url
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The database endpoint to connect to.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Connect using the synchronous methods
db = SurrealDB("ws://localhost:8000/database/namespace")

# Connect using the asynchronous methods
db = AsyncSurrealDB("ws://localhost:8000/database/namespace")
await db.connect()
```

<br />

## `.connect()` {#connect}

Connects to a local or remote database endpoint.

```python title="Method Syntax"
await db.connect(url)
```

:::note
___NOTE:___ Only required for `AsyncSurrealDB`
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                url
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The database endpoint to connect to.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Connect using the asynchronous methods
db = AsyncSurrealDB("ws://localhost:8000/database/namespace")
await db.connect()
```

<br />

## `.use_namespace() / .use_database()` {#use}

Switch to a specific namespace and database.

```python title="Method Syntax"
db.use_namespace(ns)
db.use_database(db)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>ns</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Switches to a specific namespace.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>db</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Switches to a specific database.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
db.use_namespace('test')
db.use_database('test')
```

<br />

## `.signup()` {#signup}

Signs up to a specific authentication scope.

```python title="Method Syntax"
db.signup(vars)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>vars</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Variables used in a signup query.
            </td>
        </tr>
    </tbody>
</table>

### Example usage - TODO fix
```python
token = db.signup({
	'NS': 'test',
	'DB': 'test',
	'SC': 'user',
	'email': 'info@surrealdb.com',
	'pass': '123456',
})
```

<br />

## `.signin()` {#signin}

Signs up to a specific authentication scope.

```python title="Method Syntax"
db.signin(vars)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>vars</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Variables used in a signup query.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
token = db.signin({
    "username": "root",
    "password": "root",
})
```

<br />

## `.invalidate()` {#invalidate}

Invalidates the authentication for the current db.

```python title="Method Syntax"
db.invalidate(vars)
```

### Example usage
```python
db.invalidate()
```

<br />

## `.authenticate()` {#authenticate}

Authenticates the current connection with a JWT token.

```python title="Method Syntax"
db.authenticate(token)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>token</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The JWT authentication token.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
db.authenticate('eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJTdXJyZWFsREIiLCJpYXQiOjE1MTYyMzkwMjIsIm5iZiI6MTUxNjIzOTAyMiwiZXhwIjoxODM2NDM5MDIyLCJOUyI6InRlc3QiLCJEQiI6InRlc3QiLCJTQyI6InVzZXIiLCJJRCI6InVzZXI6dG9iaWUifQ.N22Gp9ze0rdR06McGj1G-h2vu6a6n9IVqUbMFJlOxxA')
```

<br />

## `.set()` {#let}

Assigns a value as a parameter for this db.

```python title="Method Syntax"
db.set(key, val)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>key</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Specifies the name of the variable.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>val</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Assigns the value to the variable name.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Assign the variable on the connection
db.set("name", {
    "first": "Tobie",
    "last": "Morgan Hitchcock",
})
# Use the variable in a subsequent query
db.query('CREATE person SET name = $name')

# Show the result
db.query('SELECT * FROM person WHERE name.first = $name.first')
```

<br />

## `.query()` {#query}

Runs a set of SurrealQL statements against the database.

```python title="Method Syntax"
db.query(sql, vars)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>sql</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Specifies the SurrealQL statements.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>vars</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                Assigns variables which can be used in the query.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Assign the variable on the connection
result = db.query('CREATE person; SELECT * FROM type::table($tb)', {
	'tb': 'person',
})
# Get the first result from the first query
result[0]['result'][0]
# Get all of the results from the second query
result[1]['result']
```

<br />

## `.select()` {#select}

Selects all records in a table, or a specific record, from the database.

```python title="Method Syntax"
db.select(thing)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>thing</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The table name or a record ID to select.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Select all records from a table
people = db.select('person')
# Select a specific record from a table
person = db.select('person:h5wxrf2ewk8xjxosxtyc')
```

### Translated query
This function will run the following query in the database:

```surql
SELECT * FROM $thing;
```

<br />

## `.create()` {#create}

Creates a record in the database.

```python title="Method Syntax"
db.create(thing, data)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>thing</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The table name or the specific record ID to create.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The document / record data to insert.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Create a record with a random ID
person = db.create('person')
# Create a record with a specific ID
record = db.create('person:tobie', {
	'name': 'Tobie',
	'settings': {
		'active': True,
		'marketing': True,
	},
})
```

### Translated query
This function will run the following query in the database:

```surql
CREATE $thing CONTENT $data;
```


<br />

## `.update()` {#update}

Updates all records in a table, or a specific record, in the database.

```python title="Method Syntax"
db.update(thing, data)
```

:::note
___NOTE:___ This function replaces the current document / record data with the specified data.
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>thing</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The table name or the specific record ID to update.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The document / record data to insert.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Update all records in a table
people = db.update('person')
# Update a record with a specific ID
person = db.update('person:tobie', {
	'name': 'Tobie',
	'settings': {
		'active': True,
		'marketing': True,
	},
})
```

### Translated query
This function will run the following query in the database:

```surql
UPDATE $thing CONTENT $data;
```

<br />

## `.merge()` {#merge}

Modifies by deep merging all records in a table, or a specific record, in the database.

```python title="Method Syntax"
db.merge(thing, data)
```

:::note
___NOTE:___ This function merges the current document / record data with the specified data.
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>thing</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The table name or the specific record ID to change
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The document / record data to insert.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Update all records in a table
people = db.merge('person', {
	'updated_at': datetime.datetime.utcnow(),
})
# Update a record with a specific ID
person = db.merge('person:tobie', {
    'updated_at': datetime.datetime.utcnow(),
    'settings': {
        'active': True,
        },
    })
```

### Translated query
This function will run the following query in the database:

```surql
UPDATE $thing MERGE $data;
```

<br />

## `.patch()` {#patch}

Applies JSON Patch changes to all records, or a specific record, in the database.

```python title="Method Syntax"
db.patch(thing, data)
```

:::note
___NOTE:___ This function patches the current document / record data with the specified JSON Patch data.
:::

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>thing</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The table name or the specific record ID to modify.
            </td>
        </tr>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>data</code>
                <l className='grey'>OPTIONAL</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The JSON Patch data with which to modify the records.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Update all records in a table
people = db.patch('person', [
	{ 'op': "replace", 'path': "/created_at", 'value': str(datetime.datetime.utcnow()) },
])
# Update a record with a specific ID
person = db.patch('person:tobie', [
             { 'op': "replace", 'path': "/settings/active", 'value': False },
             { 'op': "add", "path": "/tags", "value": ["developer", "engineer"] },
             { 'op': "remove", "path": "/temp" },
])
```

### Translated query
This function will run the following query in the database:

```surql
UPDATE $thing PATCH $data;
```

<br />

## `.delete()` {#delete}

Deletes all records in a table, or a specific record, from the database.

```python title="Method Syntax"
db.delete(thing)
```

### Arguments
<table>
    <thead>
        <tr>
            <th colspan="2" scope="col">Arguments</th>
            <th colspan="2" scope="col">Description</th>
        </tr>
    </thead>  
    <tbody>
        <tr>
            <td colspan="2" scope="row" data-label="Arguments">
                <code>thing</code>
                <l className='yellow'>REQUIRED</l>
            </td>
            <td colspan="2" scope="row" data-label="Description">
                The table name or a record ID to select.
            </td>
        </tr>
    </tbody>
</table>

### Example usage
```python
# Delete all records from a table
db.delete('person')
# Delete a specific record from a table
db.delete('person:h5wxrf2ewk8xjxosxtyc')
```

### Translated query
This function will run the following query in the database:

```surql
DELETE FROM $resource RETURN BEFORE;
```